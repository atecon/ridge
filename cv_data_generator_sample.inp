clear 
set verbose off

include "/home/at/git/ridge/cv_data_generator.inp"


# EXAMPLE
open australia.gdt -q

# define the variables
series LHS = ldiff(PAU)
list RHS = const LHS(-1 to -2) ldiff(PUS) IUS(-1 to -2)  IAU(-1 to -2)

# Drop missing values
smpl --no-missing LHS RHS

scalar use_matrices = 1

bundle b = null

if use_matrices
    matrix X = {RHS}
    matrix y = {LHS}
    genr index
    matrix mindex = {index}
    b.X = X
    b.y = y
    b.index = mindex
    
else
    b.X = RHS
    b.y = LHS
endif

bundle bout = CrossValidation(b)
print bout
eval bout.X_train[1]		# grab array of X for 1st training set
#print L -o
